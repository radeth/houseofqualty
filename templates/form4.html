<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Krok 4 - Zależności wymagań vs parametry</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<div class="container">
    <h2>Krok 4: Oceń zależność wymagań klientów i parametrów technicznych</h2>
    <p>Wybierz relację: 1 (słaba), 3 (średnia), 9 (silna)</p>

    <form method="GET">
        <button class="btn" name="ai_fill" value="1">Uzupełnij za pomocą AI</button>
    </form>

    <form method="POST">
        <table>
            <tr>
                <th>Wymaganie / Parametr</th>
                {% for p in parameters %}
                <th>{{ p.name }}</th>
                {% endfor %}
            </tr>
            {% for i, req in enumerate(requirements) %}
            <tr>
                <td>{{ req.name }} (ważność: {{ req.importance }})</td>
                {% for j, param in enumerate(parameters) %}
                <td>
                    <select name="relation_{{i}}_{{j}}">
                        <option value="0" {% if matrix[i][j] == 0 %}selected{% endif %}>0</option>
                        <option value="1" {% if matrix[i][j] == 1 %}selected{% endif %}>1</option>
                        <option value="3" {% if matrix[i][j] == 3 %}selected{% endif %}>3</option>
                        <option value="9" {% if matrix[i][j] == 9 %}selected{% endif %}>9</option>
                    </select>
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
        <button type="submit" class="btn">Dalej</button>
    </form>
</div>
</body>
</html>
